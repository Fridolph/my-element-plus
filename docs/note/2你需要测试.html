<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>为组件编写测试 | MyElement Docs</title>
    <meta name="description" content="为你的组件编写测试">
    <meta name="generator" content="VitePress v1.0.0-rc.40">
    <link rel="preload stylesheet" href="/assets/style._qZquC9f.css" as="style">
    
    <script type="module" src="/assets/app.of1oFmYX.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.8jGixWW7.js">
    <link rel="modulepreload" href="/assets/chunks/theme.jpKAYids.js">
    <link rel="modulepreload" href="/assets/note_2你需要测试.md.tZNmuXx6.lean.js">
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d9e21a3c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-84d8653d></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-84d8653d> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d9e21a3c data-v-64cfb3f5><div class="VPNavBar has-sidebar" data-v-64cfb3f5 data-v-c7b539f4><div class="wrapper" data-v-c7b539f4><div class="container" data-v-c7b539f4><div class="title" data-v-c7b539f4><div class="VPNavBarTitle has-sidebar" data-v-c7b539f4 data-v-4070a2e9><a class="title" href="/" data-v-4070a2e9><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://vitepress.dev/vitepress-logo-mini.svg" alt data-v-d5d58c29><!--]--><!--[-->MyElement Docs<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-c7b539f4><div class="content-body" data-v-c7b539f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c7b539f4><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c7b539f4 data-v-49e849c5><span id="main-nav-aria-label" class="visually-hidden" data-v-49e849c5>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-49e849c5 data-v-933f539f><!--[--><span data-v-933f539f>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/component.html" tabindex="0" data-v-49e849c5 data-v-933f539f><!--[--><span data-v-933f539f>组件及API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/think.html" tabindex="0" data-v-49e849c5 data-v-933f539f><!--[--><span data-v-933f539f>相关思考</span><!--]--></a><!--]--><!--]--></nav><!----><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c7b539f4 data-v-6fdc4550 data-v-85c6ad30><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Fridolph/my-element-plus" aria-label="github" target="_blank" rel="noopener" data-v-85c6ad30 data-v-ea76d98d><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c7b539f4 data-v-c6b01469 data-v-c6625b3d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-c6625b3d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-c6625b3d><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-c6625b3d><div class="VPMenu" data-v-c6625b3d data-v-36a78863><!----><!--[--><!--[--><!----><!----><div class="group" data-v-c6b01469><div class="item social-links" data-v-c6b01469><div class="VPSocialLinks social-links-list" data-v-c6b01469 data-v-85c6ad30><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Fridolph/my-element-plus" aria-label="github" target="_blank" rel="noopener" data-v-85c6ad30 data-v-ea76d98d><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c7b539f4 data-v-1f4b1de8><span class="container" data-v-1f4b1de8><span class="top" data-v-1f4b1de8></span><span class="middle" data-v-1f4b1de8></span><span class="bottom" data-v-1f4b1de8></span></span></button></div></div></div></div><div class="divider" data-v-c7b539f4><div class="divider-line" data-v-c7b539f4></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d9e21a3c data-v-33523e50><div class="container" data-v-33523e50><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-33523e50><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-33523e50><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-33523e50>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-33523e50 data-v-f061f1a0><button data-v-f061f1a0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d9e21a3c data-v-3203690d><div class="curtain" data-v-3203690d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-3203690d><span class="visually-hidden" id="sidebar-aria-label" data-v-3203690d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-3203690d><section class="VPSidebarItem level-0" data-v-3203690d data-v-9bf21928><div class="item" role="button" tabindex="0" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><h2 class="text" data-v-9bf21928>组件及API</h2><!----></div><div class="items" data-v-9bf21928><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/button.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Button</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/collapse.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Collapse</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/form.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Form</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/input.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Input</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/message.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Message</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/select.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Select</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/switch.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Switch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/components/tooltip.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>Tooltip</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-3203690d><section class="VPSidebarItem level-0 has-active" data-v-3203690d data-v-9bf21928><div class="item" role="button" tabindex="0" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><h2 class="text" data-v-9bf21928>相关思考及总结</h2><!----></div><div class="items" data-v-9bf21928><!--[--><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/0%E8%89%B2%E5%BD%A9%E5%8F%82%E8%80%83.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>色彩参考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/1%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>基础组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/1%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>表单组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/2%E4%BD%A0%E9%9C%80%E8%A6%81%E6%B5%8B%E8%AF%95.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>需要测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/3%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>编写测试代码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/4%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>组件通信</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/5%E6%A8%A1%E5%9D%97%E5%8C%96%E4%BA%86%E8%A7%A3.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>了解模块化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-9bf21928 data-v-9bf21928><div class="item" data-v-9bf21928><div class="indicator" data-v-9bf21928></div><a class="VPLink link link" href="/note/6%E7%BB%84%E4%BB%B6%E5%BA%93%E6%89%93%E5%8C%85.html" data-v-9bf21928><!--[--><p class="text" data-v-9bf21928>打包发布</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d9e21a3c data-v-7345e133><div class="VPDoc has-sidebar has-aside" data-v-7345e133 data-v-4ff20fe6><!--[--><!--]--><div class="container" data-v-4ff20fe6><div class="aside" data-v-4ff20fe6><div class="aside-curtain" data-v-4ff20fe6></div><div class="aside-container" data-v-4ff20fe6><div class="aside-content" data-v-4ff20fe6><div class="VPDocAside" data-v-4ff20fe6 data-v-4d1afa55><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-4d1afa55 data-v-ac9c82c3><div class="content" data-v-ac9c82c3><div class="outline-marker" data-v-ac9c82c3></div><div class="outline-title" role="heading" aria-level="2" data-v-ac9c82c3>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ac9c82c3><span class="visually-hidden" id="doc-outline-aria-label" data-v-ac9c82c3> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-ac9c82c3 data-v-b040cf67><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-4d1afa55></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-4ff20fe6><div class="content-container" data-v-4ff20fe6><!--[--><!--]--><main class="main" data-v-4ff20fe6><div style="position:relative;" class="vp-doc _note_2%E4%BD%A0%E9%9C%80%E8%A6%81%E6%B5%8B%E8%AF%95" data-v-4ff20fe6><div><h1 id="编写测试" tabindex="-1">编写测试 <a class="header-anchor" href="#编写测试" aria-label="Permalink to &quot;编写测试&quot;">​</a></h1><p>容易出现的问题</p><ul><li>手动测试，新建一堆不同属性的组件</li><li>肉眼观测，或是浏览器手动点击，刷新</li><li>更新代码，要再次进行手动测试</li></ul><blockquote><p>项目需要测试吗?</p></blockquote><p>为了代码的健壮和可维护性，我们需要编写测试代码</p><h2 id="tdd的开发方式" tabindex="-1">TDD的开发方式 <a class="header-anchor" href="#tdd的开发方式" aria-label="Permalink to &quot;TDD的开发方式&quot;">​</a></h2><p>TDD(Test-Driven Development)测试驱动开发，是一种软件开发方法，它强调在编写代码之前先编写测试用例，然后通过不断编写和运行测试用例来驱动代码的开发。</p><p>步骤：</p><ol><li>编写测试用例</li><li>运行测试用例</li><li>编写代码：根据测试用例的要求，编写代码并实现功能</li><li>运行测试用例</li><li>重构代码（可选）</li><li>重复以上步骤</li></ol><p>优点：</p><ul><li>自动化完成流程，保证代码的运行结果</li><li>更早发现 bug</li><li>重构和升级更加容易和可靠</li></ul><h2 id="组件化框架-react、vue-非常适合写单元测试" tabindex="-1">组件化框架（React、Vue）非常适合写单元测试 <a class="header-anchor" href="#组件化框架-react、vue-非常适合写单元测试" aria-label="Permalink to &quot;组件化框架（React、Vue）非常适合写单元测试&quot;">​</a></h2><ul><li>组件化，独立单元，互不影响</li><li>属性和界面的映射，固定输入，固定输出</li><li>单向数据流</li><li>状态管理工具的 store 可以单独写测试</li></ul><h2 id="测试框架" tabindex="-1">测试框架 <a class="header-anchor" href="#测试框架" aria-label="Permalink to &quot;测试框架&quot;">​</a></h2><p>需要选取两种测试工具</p><ul><li>通用的测试框架 <ul><li>Mocha</li><li>Jest</li><li>Vitest</li></ul></li><li>针对对应库的测试库</li></ul><p>文档地址 <a href="https://vitest.dev/guide/why.html" target="_blank" rel="noreferrer">https://vitest.dev/guide/why.html</a></p><h2 id="vitest-优点" tabindex="-1">Vitest 优点 <a class="header-anchor" href="#vitest-优点" aria-label="Permalink to &quot;Vitest 优点&quot;">​</a></h2><ul><li>基于 Vite 而生，和 Vite 完美配合，共享一个生态系统</li><li>兼容 Jest 语法</li><li>HMR for tests</li><li>ESM、TS、JSX 原生支持</li></ul><h3 id="测试框架的几大功能" tabindex="-1">测试框架的几大功能 <a class="header-anchor" href="#测试框架的几大功能" aria-label="Permalink to &quot;测试框架的几大功能&quot;">​</a></h3><ul><li>断言 <ul><li>内置 Chai 以及兼容 Jest expect 的 API</li></ul></li><li>Mock</li><li>代码覆盖率 <ul><li><a href="https://vitest.dev/guide/mocking.html" target="_blank" rel="noreferrer">https://vitest.dev/guide/mocking.html</a></li><li>可以使用 c8 或者 istanbul</li></ul></li><li>Snapshot <ul><li>兼容 Jest</li></ul></li></ul><h2 id="基于-vue-的测试工具" tabindex="-1">基于 Vue 的测试工具 <a class="header-anchor" href="#基于-vue-的测试工具" aria-label="Permalink to &quot;基于 Vue 的测试工具&quot;">​</a></h2><ul><li>vue-test-utils <a href="https://test-utils.vuejs.org/guide/" target="_blank" rel="noreferrer">https://test-utils.vuejs.org/guide/</a></li><li>vue-testing-library <a href="https://testing-library.com/docs/vue-testing-library/intro" target="_blank" rel="noreferrer">https://testing-library.com/docs/vue-testing-library/intro</a></li><li>Vitest 的配置文件 <a href="https://vitest.dev/config" target="_blank" rel="noreferrer">https://vitest.dev/config</a></li></ul><h3 id="vue-test-utils" tabindex="-1">vue-test-utils <a class="header-anchor" href="#vue-test-utils" aria-label="Permalink to &quot;vue-test-utils&quot;">​</a></h3><ul><li>挂载 mount <ul><li>修改vitest配置，支持DOM</li><li>environment: &#39;jsdom&#39;</li></ul></li><li>query <ul><li>find() / get()</li><li>findAll()</li><li>findComponent()</li></ul></li><li>内容 / 属性 <ul><li>text()</li><li>html()</li><li>classes()</li><li>attributes()</li></ul></li><li>stub 模拟子组件</li></ul><h2 id="vnode相关" tabindex="-1">VNode相关 <a class="header-anchor" href="#vnode相关" aria-label="Permalink to &quot;VNode相关&quot;">​</a></h2><p>在测试一些带有 slots 的组件时需要用到 <a href="https://cn.vuejs.org/guide/extras/rendering-mechanism.html" target="_blank" rel="noreferrer">https://cn.vuejs.org/guide/extras/rendering-mechanism.html</a></p><p>Virtual DOM 是一种虚拟的，保存在内存中的数据结构，代表 UI 表现，和真实 DOM 节点保持同步。</p><h3 id="render-pipeline" tabindex="-1">Render pipeline <a class="header-anchor" href="#render-pipeline" aria-label="Permalink to &quot;Render pipeline&quot;">​</a></h3><ul><li>compile Vue 组件的 template 会被编译成 render function, 一个可以返回 VDOM 树的函数</li><li>Mount 执行 render function 遍历虚拟 DOM 树，生成真正的 DOM 节点</li><li>Patch 当组件中任何响应式对象依赖发生变化时，执行更新操作。生成新的虚拟节点树。Vue 内部会遍历新的虚拟节点树，和旧树做对比，然后执行必要的更新操作</li></ul><p>优点：</p><ul><li>可以使用一种更方便的方式，不必修改真实的 DOM</li><li>更新效率更高，计算需要最小化操作，并完成更新</li></ul><h3 id="创建-vnode" tabindex="-1">创建 VNode <a class="header-anchor" href="#创建-vnode" aria-label="Permalink to &quot;创建 VNode&quot;">​</a></h3><p><a href="https://cn.vuejs.org/guide/extras/render-function.html" target="_blank" rel="noreferrer">https://cn.vuejs.org/guide/extras/render-function.html</a></p><p>h 和 createVnode 都可以创建 vnode, h 是 hyperscript 的缩写（意为 JavaScript that produces HTML），很多 VDOM 的实现都使用这个函数名称。还有个就是 createVnode，名称更形象，两者用法是一样的</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { h, createVnode } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vnode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, class: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// props</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // children</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="运用vitest提供的钩子函数增加效率" tabindex="-1">运用vitest提供的钩子函数增加效率 <a class="header-anchor" href="#运用vitest提供的钩子函数增加效率" aria-label="Permalink to &quot;运用vitest提供的钩子函数增加效率&quot;">​</a></h3><ul><li>beforeAll 所有测试用例开始前的钩子</li><li>beforeEach 每个测试用例开始之前的钩子</li><li>afterAll 所有测试用例执行完后</li><li>afterEach 每个测试用例执行完后</li></ul><p>可配合 test.skip test.only 等修饰符</p></div></div></main><footer class="VPDocFooter" data-v-4ff20fe6 data-v-9caed558><!--[--><!--]--><!----><nav class="prev-next" data-v-9caed558><div class="pager" data-v-9caed558><a class="VPLink link pager-link prev" href="/note/1%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6.html" data-v-9caed558><!--[--><span class="desc" data-v-9caed558>Previous page</span><span class="title" data-v-9caed558>表单组件</span><!--]--></a></div><div class="pager" data-v-9caed558><a class="VPLink link pager-link next" href="/note/3%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81.html" data-v-9caed558><!--[--><span class="desc" data-v-9caed558>Next page</span><span class="title" data-v-9caed558>编写测试代码</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"components_button.md\":\"UZFZgoDW\",\"note_0色彩参考.md\":\"yh1vu78p\",\"学习笔记.md\":\"l7d6Neg-\",\"index.md\":\"sbQhwHwk\",\"components_tooltip.md\":\"N__gQ9Dx\",\"component.md\":\"obxxNcun\",\"think.md\":\"RFblo_D6\",\"note_4组件通信.md\":\"3HV9bg31\",\"note_3编写测试代码.md\":\"XpE6t9Jg\",\"note_1基础组件.md\":\"WNUyzFVH\",\"note_6组件库打包.md\":\"4IqxUZzF\",\"components_message.md\":\"haO0FO0r\",\"note_5模块化了解.md\":\"CpoFTYuZ\",\"note_2你需要测试.md\":\"tZNmuXx6\",\"note_1表单组件.md\":\"kVOhlR1e\",\"components_collapse.md\":\"uQwxKwWP\",\"components_switch.md\":\"t4xzI_12\",\"components_input.md\":\"Tlb1gWNd\",\"components_select.md\":\"sw_K9P1S\",\"components_form.md\":\"HqLJEpff\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"MyElement Docs\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":false,\"themeConfig\":{\"siteTitle\":\"MyElement Docs\",\"logo\":\"https://vitepress.dev/vitepress-logo-mini.svg\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"组件及API\",\"link\":\"/component\"},{\"text\":\"相关思考\",\"link\":\"/think\"}],\"sidebar\":[{\"text\":\"组件及API\",\"items\":[{\"text\":\"Button\",\"link\":\"/components/button.md\"},{\"text\":\"Collapse\",\"link\":\"/components/collapse.md\"},{\"text\":\"Form\",\"link\":\"/components/form.md\"},{\"text\":\"Input\",\"link\":\"/components/input.md\"},{\"text\":\"Message\",\"link\":\"/components/message.md\"},{\"text\":\"Select\",\"link\":\"/components/select.md\"},{\"text\":\"Switch\",\"link\":\"/components/switch.md\"},{\"text\":\"Tooltip\",\"link\":\"/components/tooltip.md\"}]},{\"text\":\"相关思考及总结\",\"items\":[{\"text\":\"色彩参考\",\"link\":\"/note/0色彩参考.md\"},{\"text\":\"基础组件\",\"link\":\"/note/1基础组件.md\"},{\"text\":\"表单组件\",\"link\":\"/note/1表单组件.md\"},{\"text\":\"需要测试\",\"link\":\"/note/2你需要测试.md\"},{\"text\":\"编写测试代码\",\"link\":\"/note/3编写测试代码.md\"},{\"text\":\"组件通信\",\"link\":\"/note/4组件通信.md\"},{\"text\":\"了解模块化\",\"link\":\"/note/5模块化了解.md\"},{\"text\":\"打包发布\",\"link\":\"/note/6组件库打包.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Fridolph/my-element-plus\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>