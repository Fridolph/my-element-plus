import{d as H,O as T,a7 as U,h as r,y as j,k as E,o,c as n,F as L,r as c,e as t,m as B,a3 as g,a8 as q,N as _,p as F,b as y,a0 as I,a9 as G,n as J,S as Q}from"./framework.s2LJAcwQ.js";import{_ as k}from"./Icon.vue_vue_type_script_setup_true_lang.7wQzemD0.js";const le=Symbol("formContextKey"),W=Symbol("formItemContextKey"),X={key:0,class:"vk-input__prepend"},Y={class:"vk-input__wrapper"},Z={key:0,class:"vk-input__prefix"},x=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],ee={key:1,class:"vk-input__append"},ae=["disabled","readonly","autocomplete","placeholder","autofocus","form"],ne=H({name:"VkInput",inheritAttrs:!1,__name:"Input",props:{modelValue:{default:""},type:{default:"text"},size:{default:"normal"},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},disabled:{type:Boolean},placeholder:{default:""},readonly:{type:Boolean,default:!1},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(M,{expose:z,emit:K}){const v=T(W),h=U(),s=M,l=K,i=r(),a=r(s.modelValue);j(()=>s.modelValue,e=>{a.value=e});const p=r(!1),d=r(!1),N=E(()=>!!(!s.disabled&&s.clearable&&d.value&&a.value||!s.disabled&&s.clearable&&p.value&&a.value)),u=r(!1);function b(){u.value=!u.value}function P(){p.value=!0}function S(){p.value=!1}function w(){l("update:modelValue",a.value),l("input",a.value)}function C(){l("change",a.value)}function V(e){d.value=!0,l("focus",e)}async function O(){await Q(),i.value.focus()}function $(e){d.value=!1,l("blur",e),D()}function R(){a.value="",l("update:modelValue",""),l("clear"),l("input",""),l("change","")}function A(){}function D(){v==null||v.validate().catch(e=>console.log(e.errors))}return z({ref:i.value}),(e,f)=>(o(),n("div",{class:J(["vk-input",{[`vk-input--${e.type}`]:e.type,[`vk-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":d.value}]),onMousemove:P,onMouseleave:S},[e.type!=="textarea"?(o(),n(L,{key:0},[e.$slots.prepend?(o(),n("div",X,[c(e.$slots,"prepend")])):t("",!0),B("div",Y,[e.$slots.prefix?(o(),n("span",Z,[c(e.$slots,"prefix")])):t("",!0),g(B("input",_({"onUpdate:modelValue":f[0]||(f[0]=m=>a.value=m),ref_key:"inputRef",ref:i},F(h),{type:s.type==="password"?u.value?"text":"password":"text",class:"vk-input__inner",disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,onInput:w,onFocus:V,onBlur:$,onChange:C}),null,16,x),[[q,a.value]]),e.$slots.suffix||p.value?(o(),n("span",{key:1,class:"vk-input__suffix",onClick:O},[s.type==="password"&&!u.value?(o(),y(k,{key:0,icon:"eye",class:"vk-input-icon__password",onClick:b})):t("",!0),s.type==="password"&&u.value?(o(),y(k,{key:1,icon:"eye-slash",class:"vk-input-icon__password",onClick:b})):t("",!0),N.value?(o(),y(k,{key:2,icon:"circle-xmark",class:"vk-input__clear",onClick:I(R,["stop"]),onMousedown:I(A,["prevent"])})):t("",!0),c(e.$slots,"suffix")])):t("",!0)]),e.$slots.append?(o(),n("div",ee,[c(e.$slots,"append")])):t("",!0)],64)):g((o(),n("textarea",_({key:1,"onUpdate:modelValue":f[1]||(f[1]=m=>a.value=m),ref_key:"inputRef",ref:i},F(h),{class:"vk-textarea__wrapper",disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,onInput:w,onFocus:V,onBlur:$,onChange:C}),null,16,ae)),[[G,a.value]])],34))}});export{ne as _,W as a,le as f};
